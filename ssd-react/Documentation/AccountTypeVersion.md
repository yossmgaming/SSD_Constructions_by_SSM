To transform the **SSD Constructions** management suite into a realistic, enterprise-grade governance platform, the next phase must focus on **mandatory personnel identification**, **data siloing**, and **role-specific intelligence**. This approach eliminates "identity fraud," mitigates the "non-payment crisis," and ensures that each stakeholder interacts only with the data essential to their role, thereby reducing "internal politics" and system load. The following analysis and implementation plan are based on industry standards like **CIDA SBD-03**, national regulations like the **Electronic Transactions Act**, and specialized tools such as **SmartBarrel**. --- ### **1. Mandatory Personnel Identification (PID) & Identity Integrity** Making the **Personnel Identification (PID)** mandatory is a critical defense against "phantom employee schemes"—a common fraud where fictitious workers are added to payrolls. * **Requirement:** The invite_codes table must be modified so that target_id (linked to a PID) is a **non-nullable** field. An invite cannot be generated unless a physical record (Worker or Client) with a verified **National Identity Card (NIC)** or **Business Registration Number** already exists. * **Encrypted Invitations:** Use a high-entropy, time-limited token (TTL of 24–48 hours). This provides "forensic evidence" under the **Evidence (Special Provisions) Act** that the account was created through an authorized administrative link. * **Benefit:** This creates a "Single Source of Truth" for every digital identity, ensuring that attendance logs and digital signatures are legally admissible in a **Labour Tribunal** or **Commercial Court**. --- ### **2. Enhanced Client Registration (The "Client-Side Shield")** Cloning the worker registration module for clients is a strategic move to manage the high risks associated with private residential projects. * **Data Attributes:** Beyond basic contact info, the Client Profile must track **Escrow Status** and **Authorized Signatories**. * **The Escrow Trigger:** If a client is registered for a "villa" or "house," the system should automatically link their profile to a **Rolling 3-Month Escrow account**. * **Digital Change Orders:** The client registry allows property owners to digitally sign variations, reducing the "he-said-she-said" disputes that cause 50% of payment delays in "Measure and Pay" contracts. --- ### **3. Fixing the UI "Flickering" (Initial Loading State)** The empty white screen occurs because the app renders the UI before the **AuthContext** has resolved the user’s session and role. * **The Fix:** Implement an initialLoading state in your AuthContext.jsx. * **Execution:** While isLoading is true, return a **Branded Splash Screen** (SSD logo + an animated "Shield" icon) rather than a blank screen. This ensures the "global styling" is present from the first millisecond of the user experience. * **Performance:** By resolving the role *before* mounting the sidebar or dashboard, the app only fetches data relevant to that role, significantly reducing the initial API load. --- ### **4. Role-Specific Personal Dashboards (Controlled Visibility)** Each user type will have a unique interface tailored to their specific **Key Performance Indicators (KPIs)**, ensuring that sensitive financial trends are reserved for administration while field staff focus on productivity. #### **A. Client Dashboard (The "Transparency Portal")** * **Focus:** Project status and financial security. * **Metrics:** * **Project Progress:** Visualized milestones verified by site photos. * **Financial Summary:** Total spent vs. remaining escrow balance. * **Pending Signatures:** List of Variations or Interim Certificates requiring digital signature. #### **B. Worker Dashboard (The "Moral & Compliance Hub")** * **Focus:** Individual transparency and accurate pay. * **Metrics:** * **Verified Attendance:** Log of biometric-verified hours (eliminating "buddy punching" disputes). * **Financial Footprint:** Total money received, current advances remaining, and **EPF/ETF contribution receipts**. * **Performance:** Completion of assigned task lists. #### **C. Site Supervisor Dashboard (The "Operational Command")** * **Focus:** Daily logs and resource stewardship. * **Metrics:** * **Attendance Control:** Interface to verify field crews via AI-powered facial verification (SmartBarrel-style). * **Material Inventory:** Live tracker for material usage (e.g., cement batches) to prevent "quality fraud". * **Daily Goals:** Variance between budgeted labor hours and actual verified hours. #### **D. Project Manager Dashboard (The "Milestone Tracker")** * **Focus:** Schedule variance and quality assurance. * **Metrics:** * **Milestone Completion:** Upload portal for site photos and inspection reports to trigger payments. * **Variation Logic:** Tracker for scope changes that are awaiting Client or Admin approval. #### **E. Finance Dashboard (The "Liquidity Engine")** * **Focus:** Firm survival and statutory compliance. * **Metrics:** * **Days Sales Outstanding (DSO):** Average time taken to collect payment after milestone certification. * **Tax Alerts:** Automated triggers for the **CIGFL levy** (0.25%–1%) on contracts over Rs. 15M. * **Liquidity Ratios:** Real-time Current Ratio (> 1.1) to ensure the firm can meet short-term obligations. --- ### **5. Security Matrix & Access Control** The **Super Admin** remains the "Final Authority," possessing visibility into all the above dashboards and the **Immutable Audit Log** (who changed what and when). * **Strict Slicing:** A Worker's UI should not even contain the code components for "Company-Wide Financials." This "hard lockdown" prevents internal politics and protects the firm’s competitive data. * **Row-Level Security (RLS):** Use Supabase RLS so that even if a tech-savvy user tries to call the API directly, the database will only return rows where the ProjectID matches their assigned profile. ### **Conclusion of Analysis** This architecture transitions SSD Constructions from a tool that "tracks work" to a platform that **"enforces integrity."** By siloed visibility and mandatory PIDs, you eliminate the ethical deficits (buddy punching, phantom employees) and financial bottlenecks (delayed certifications) that plague the local industry. This phased approach creates a resilient firm ready to handle high-value infrastructure projects in a "digitally empowered Sri Lanka". The evolution of the **SSD Constructions** platform into a full-scale ecosystem requires extending role-based dashboards to **Subcontractors** and **Suppliers**. This expansion is critical to mitigating the "domino effect" of payment delays where failures at the top ripple down to the topmost nodes of the supply chain. By siloing data for these roles, you ensure that they focus on their specific deliverables while maintaining the **"Single Source of Truth"** necessary for legal and financial protection. ### **1. Subcontractor Dashboard: The "Measure & Pay" Portal** Subcontractors in Sri Lanka often face significant unpaid claims even after completing substantial work. This dashboard should focus on standardizing progress claims to reduce processing time. * **Focus:** Work certification, measurement accuracy, and joint liability protection. * **Key Metrics & Features:** * **Certified Work Progress:** A live view of re-measured work linked to their specific section of the **Accepted BOQ**. * **Digital Measurement Log:** An interface for their field engineers to enter daily dimensions, reducing "he-said-she-said" disputes that stall payments. * **Statutory Compliance Tracker:** A mandatory section to upload **EPF/ETF payment receipts** for their own labor force. This protects SSD Constructions from joint liability under the **Industrial Disputes Act**. * **CIGFL Deduction Summary:** If the subcontract value exceeds **Rs. 15 million**, the system must display the mandatory **0.25% to 1.0% levy** being withheld for the Inland Revenue. * **Retention Status:** A countdown to the release of the **10% retention** (capped at 5% of their price) following the 365-day Defects Liability Period. ### **2. Supplier Dashboard: The "Quality & Liquidity" Hub** Suppliers are often the most exposed to financial risk, expending resources first and being paid last. Digital dashboards can speed up this cycle through transparency. * **Focus:** Fulfillment tracking, SLS quality compliance, and payment certainty. * **Key Metrics & Features:** * **Purchase Order (PO) Management:** A list of active orders with expected delivery dates. * **Quality Inspection Results:** Real-time notification of material acceptance or rejection. The dashboard should highlight if materials (like cement or steel) met the required **SLS 107** or **SLS 375** standards. * **Payment Status (LankaPay Sync):** Integration with the **JustPay or SLIPS** network to show when funds have been remitted, providing immediate crediting alerts for their cash flow management. * **Invoice Repository:** A secure area to upload digital invoices that are automatically timestamped and locked under the **Electronic Transactions Act** for legal admissibility. ### **3. Technical Solution for UI Flickering** The "empty white screen" occurs because the UI renders before the user's role and project assignments are fetched from the database. * **Implementation Plan:** * Modify your AuthContext.jsx to include an initialLoading boolean. * While this state is true, return a **Branded Splash Screen** featuring the SSD logo and a high-fidelity "Shield" animation. * **Strategic Load:** Only fetch the specific components and data required for the logged-in role. For example, the Supplier UI should not even load the code for "Worker Attendance" or "CIGFL Tax Formulas," making the app faster and more secure. ### **4. Security & Access Control Logic** To prevent "internal politics" and data leaks, use **Supabase Row-Level Security (RLS)**. | Role | Access Level | Data Filter Logic | | :--- | :--- | :--- | | **Subcontractor** | Operational | Can only see rows in boqItems and payments linked to their specific SubContractID. | | **Supplier** | Transactional | Can only see materialPurchases and settlements linked to their SupplierID. | | **Super Admin** | Full | Can see all dashboards and the **Immutable Audit Log** to oversee every interaction. | ### **Conclusion of Research** This architecture transitions SSD Constructions into a **Governance Platform** that enforces integrity across the entire supply chain. By providing Subcontractors and Suppliers with their own dashboards, you reduce the "Pricing Game", eliminate opaque paper processes, and build a resilient firm ready for the **$15 billion digital economy** in Sri Lanka.